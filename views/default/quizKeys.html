<!DOCTYPE html>
<html xmlns = "http://www.w3.org/1999/xhtml">
  <head>
    <title>Virtual Music Theory Keyboard</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <!-- polyfill -->
      <script src="../static/inc/shim/Base64.js" type="text/javascript"></script>
    <script src="../static/inc/shim/Base64binary.js" type="text/javascript"></script>
    <script src="../static/inc/shim/WebAudioAPI.js" type="text/javascript"></script>
    <!-- midi.js package -->
    <script src="../static/js/midi/audioDetect.js" type="text/javascript"></script>
    <script src="../static/js/midi/gm.js"></script>
    <script src="../static/js/midi/loader.js" type="text/javascript"></script>
    <script src="../static/js/midi/plugin.audiotag.js" type="text/javascript"></script>
    <script src="../static/js/midi/plugin.webaudio.js" type="text/javascript"></script>
    <script src="../static/js/midi/plugin.webmidi.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- utils -->
    <script src="../static/js/util/dom_request_xhr.js" type="text/javascript"></script>
    <script src="../static/js/util/dom_request_script.js" type="text/javascript"></script>
    <!-- custom scripts -->
    <script type="text/javascript" src="../static/js/concepts.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/theStyle.css">
    <link rel="stylesheet" type="text/css" href="../static/css/lesson1style.css">
  </head>
  <body onload="load(); init(); lesson1()" background="../static/images/wood-grain.jpg">
    <div id="window">
      <div id="topBanner">
      </div>
      <div id="mySidenav" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <a href="index.html"><i class="fa fa-home" aria-hidden="true"></i> Home</a>
                <a href="lesson1.html">Lesson: Introduction</a>
                <a href="quizNotes.html">Quiz: Notes</a>
                <a href="quizSteps.html">Quiz: Steps</a>
                <a href="lessonScales.html">Lesson: Scales</a>
                <a href="quizMajorScales.html">Quiz: Major Scales</a>
                <a href="quizMinorScales.html">Quiz: Minor Scales</a>
                <a href="quizInterval.html">Quiz: Interval</a>
                <a href="lessonStaff.html">Lesson: Staff</a>
                <a href="lessonCircle.html">Lesson: Circle</a>
                <a href="quizKeys.html">Quiz: Key Signature</a>
                <a href="reference.html">Reference Guide</a>
            </div>
            <!-- Use any element to open the sidenav -->
            <span id="menuButton" onclick="openNav()">&#9776; Menu</span>
      <!-- container for individual keys -->
      <div id="keyboard">
        <!-- keyboard keys that call functions to play corresponding note when clicked --><!--
        --><div class="key lStraightKey" id="c3Key" onclick="contextualClick('c', 3, this.id)"><div class="hardwareKey">q</div><div class="keyname">C</div></div><!--
        --><div class="key blackKey" id="db3Key" onclick="contextualClick('db', 3, this.id)"><div class="hardwareKey">2</div><div class="keyname">C<sup>#</sup> D<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="d3Key" onclick="contextualClick('d', 3, this.id)"><div class="hardwareKey">w</div><div class="keyname">D</div></div><!--
        --><div class="key blackKey" id="eb3Key" onclick="contextualClick('eb', 3, this.id)"><div class="hardwareKey">3</div><div class="keyname">D<sup>#</sup> E<sup>b</sup></div></div><!--
        --><div class="key rStraightKey" id="e3Key" onclick="contextualClick('e', 3, this.id)"><div class="hardwareKey">e</div><div class="keyname">E</div></div><!--
        --><div class="key lStraightKey" id="f3Key" onclick="contextualClick('f', 3, this.id)"><div class="hardwareKey">r</div><div class="keyname">F</div></div><!--
        --><div class="key blackKey" id="gb3Key" onclick="contextualClick('gb', 3, this.id)"><div class="hardwareKey">5</div><div class="keyname">F<sup>#</sup> G<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="g3Key" onclick="contextualClick('g', 3, this.id)"><div class="hardwareKey">t</div><div class="keyname">G</div></div><!--
        --><div class="key blackKey" id="ab4Key" onclick="contextualClick('ab', 4, this.id)"><div class="hardwareKey">6</div><div class="keyname">G<sup>#</sup> A<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="a4Key" onclick="contextualClick('a', 4, this.id)"><div class="hardwareKey">y</div><div class="keyname">A</div></div><!--
        --><div class="key blackKey" id="bb4Key" onclick="contextualClick('bb', 4, this.id)"><div class="hardwareKey">7</div><div class="keyname">A<sup>#</sup> B<sup>b</sup></div></div><!--
        --><div class="key rStraightKey" id="b4Key" onclick="contextualClick('b', 4, this.id)"><div class="hardwareKey">u</div><div class="keyname">B</div></div><!--
        --><div class="key lStraightKey" id="c4Key" onclick="contextualClick('c', 4, this.id)"><div class="hardwareKey">i</div><div class="keyname">C</div></div><!--
        --><div class="key blackKey" id="db4Key" onclick="contextualClick('db', 4, this.id)"><div class="hardwareKey">9</div><div class="keyname">C<sup>#</sup> D<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="d4Key" onclick="contextualClick('d', 4, this.id)"><div class="hardwareKey">o</div><div class="keyname">D</div></div><!--
        --><div class="key blackKey" id="eb4Key" onclick="contextualClick('eb', 4, this.id)"><div class="hardwareKey">0</div><div class="keyname">D<sup>#</sup> E<sup>b</sup></div></div><!--
        --><div class="key rStraightKey" id="e4Key" onclick="contextualClick('e', 4, this.id)"><div class="hardwareKey">p</div><div class="keyname">E</div></div><!--
        --><div class="key lStraightKey" id="f4Key" onclick="contextualClick('f', 4, this.id)"><div class="hardwareKey">z</div><div class="keyname">F</div></div><!--
        --><div class="key blackKey" id="gb4Key" onclick="contextualClick('gb', 4, this.id)"><div class="hardwareKey">s</div><div class="keyname">F<sup>#</sup> G<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="g4Key" onclick="contextualClick('g', 4, this.id)"><div class="hardwareKey">x</div><div class="keyname">G</div></div><!--
        --><div class="key blackKey" id="ab5Key" onclick="contextualClick('ab', 5, this.id)"><div class="hardwareKey">d</div><div class="keyname">G<sup>#</sup> A<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="a5Key" onclick="contextualClick('a', 5, this.id)"><div class="hardwareKey">c</div><div class="keyname">A</div></div><!--
        --><div class="key blackKey" id="bb5Key" onclick="contextualClick('bb', 5, this.id)"><div class="hardwareKey">f</div><div class="keyname">A<sup>#</sup> B<sup>b</sup></div></div><!--
        --><div class="key rStraightKey" id="b5Key" onclick="contextualClick('b', 5, this.id)"><div class="hardwareKey">v</div><div class="keyname">B</div></div><!--
        --><div class="key lStraightKey" id="c5Key" onclick="contextualClick('c', 5, this.id)"><div class="hardwareKey">b</div><div class="keyname">C</div></div><!--
        --><div class="key blackKey" id="db5Key" onclick="contextualClick('db', 5, this.id)"><div class="hardwareKey">h</div><div class="keyname">C<sup>#</sup> D<sup>b</sup></div></div><!--
        --><div class="key cutKey" id="d5Key" onclick="contextualClick('d', 5, this.id)"><div class="hardwareKey">n</div><div class="keyname">D</div></div><!--
        --><div class="key blackKey" id="eb5Key" onclick="contextualClick('eb', 5, this.id)"><div class="hardwareKey">j</div><div class="keyname">D<sup>#</sup> E<sup>b</sup></div></div><!--
        --><div class="key rStraightKey" id="e5Key" onclick="contextualClick('e', 5, this.id)"><div class="hardwareKey">m</div><div class="keyname">E</div></div>

      </div>
      <div class="lesson">
        <div id="showKeys">
          <input type="button" value="Toggle Key Names" onclick="toggleVisibility('keyname');">
          <input type="button" value="Toggle Hardware Key Names" onclick="toggleVisibility('hardwareKey');">
        </div><br/>
          <script type="text/javascript">
   var keyToSig = new Map();
   var minorToSig = new Map();
   var quizRun = true;
   var targetSig;
   var score=0;
   var minor;
   
   function init(){    
   keyToSig.set(0,'C');
   keyToSig.set(1,'G');
   keyToSig.set(2,'D');
   keyToSig.set(3,'A');
   keyToSig.set(4,'E');
   keyToSig.set(5,'B');
   keyToSig.set(6,'F#');
   keyToSig.set(7,'C#');
   keyToSig.set(-1,'F');
   keyToSig.set(-2,'Bb');
   keyToSig.set(-3,'Eb');
   keyToSig.set(-4,'Ab');
   keyToSig.set(-5,'Db');
   keyToSig.set(-6,'Gb');
   keyToSig.set(-7,'Cb');
       
   minorToSig.set(0,'a');
   minorToSig.set(1,'e');
   minorToSig.set(2,'b');
   minorToSig.set(3,'f#');
   minorToSig.set(4,'c#');
   minorToSig.set(5,'g#');
   minorToSig.set(6,'d#');
   minorToSig.set(7,'a#');
   minorToSig.set(-1,'d');
   minorToSig.set(-2,'g');
   minorToSig.set(-3,'c');
   minorToSig.set(-4,'f');
   minorToSig.set(-5,'bb');
   minorToSig.set(-6,'eb');
   minorToSig.set(-7,'ab');
   }
   
   function nextQuestion(){
   minor = Math.ceil(Math.random()*2) - 1;
   targetSig = Math.ceil(Math.random()*14)-7;
   if(minor == 0){
       document.getElementById('quizText').innerHTML = "How many accidentals are in " + keyToSig.get(targetSig) + " major?";
   }else{
       document.getElementById('quizText').innerHTML = "How many accidentals are in " + minorToSig.get(targetSig) + " minor?";
   }
   document.getElementById('doThings').innerHTML = "Check Answer";
   }
   
   
   function checkAnswer(){
       var answer = document.getElementById('answer').value;
       if(answer == targetSig){
           score++;
           document.getElementById('score').innerHTML = score;
           document.getElementById('quizText').innerHTML = "Nice!"
       }else{
           document.getElementById('quizText').innerHTML = "Nope."
       }
       document.getElementById('doThings').innerHTML = 'Next';
   }
   

</script>
       Instructions: Answer the question. Use positive numbers for sharps and negative numbers for flats.<br>
   Score:<p4 id="score"></p4> <br>

    <p2 id='answerStuff'>
 Answer: <input type="number" id="answer"><br>
    </p2>
   
   
<button id='doThings' onclick="if(document.getElementById('doThings').innerHTML=='Next'){
                nextQuestion()
        }else{
        checkAnswer()}">Next</button>


<p1 id='quizText'>
   Start the quiz!
</p><br><br>
      </div>
    </div>
  </body>


                   
                   
</html>